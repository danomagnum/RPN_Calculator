#:kivy 1.2.0

<CalcButton@Button>:
	the_root: self.parent.my_root
	on_press: self.the_root._execute(self.text)
	background_color: [1, 1, 1, 1]
	color: [1, 1, 1, 1]
	#font_size: self.width/2
	size_hint: None, 0.2

<CalcButtonOp@CalcButton>:
	background_color: [0.6, 0.6, 0.6, 1]
	color: [0.2, 0.8, 1, 1]

<CalcButtonSpecial@CalcButton>:
	background_color: [0.3, 0.6, 0.6, 1]
	color: [0, 1, 1, 1]
			

<LineEntry@GridLayout>:
	cols: 2
	rows: 1
	width: 100
	height: 20
	number: numberlabel
	value: valuelabel
	Label:
		size_hint_x: None
		width: 20
		text_size: self.size	
		halign: 'left'
		id: numberlabel
		text: '>'
	Label:
		size_hint_x: None
		width: 80
		text_size: self.size	
		id: valuelabel
		halign: 'left'


<Calculator>:
	entryline: entryline1
	stackline3: stackline3
	stackline2: stackline2
	stackline1: stackline1
	stackline0: stackline0
	GridLayout:
		cols: 1
		rows: 2
		width: root.width
		height: root.height

		BoxLayout:
			my_root: root
			minimum_width: root.width
			orientation: 'vertical'

			LineEntry: 
				id: stackline3
			LineEntry: 
				id: stackline2
			LineEntry: 
				id: stackline1
			LineEntry: 
				id: stackline0

			LineEntry: 
				id: entryline1

		TabbedPanel:
			do_default_tab: False
			TabbedPanelItem:
				text: 'Basic'
				StackLayout:
					pos_hint: {'top': 0.9}
					orientation: "lr-tb"
					my_root: root
					CalcButtonSpecial:
						text: "^"
					CalcButtonSpecial:
						text: "sqrt"
					CalcButton:
						text: "7"
					CalcButton:
						text: "8"
					CalcButton:
						text: "9"
					CalcButtonOp:
						text: "*"
					CalcButton:
						text: "4"
					CalcButton:
						text: "5"
					CalcButton:
						text: "6"
					CalcButtonOp:
						text: "-"
					CalcButton:
						text: "1"
					CalcButton:
						text: "2"
					CalcButton:
						text: "3"
					CalcButtonOp:
						text: "+"
					CalcButton:
						text: "0"
					CalcButton:
						text: "."
					CalcButtonSpecial:
						text: "enter"
					CalcButtonSpecial:
						text: "drop"
					CalcButtonOp:
						text: "/"

			TabbedPanelItem:
				text: 'prog'
				StackLayout:
					pos_hint: {'top': 0.9}
					orientation: "lr-tb"
					my_root: root
					CalcButtonSpecial:
						text: "["
					CalcButtonSpecial:
						text: "]"
					CalcButtonSpecial:
						text: "<"
					CalcButtonSpecial:
						text: ">"
					CalcButton:
						text: "if"
					CalcButton:
						text: "!"


			TabbedPanelItem:
				text: 'debug'
				StackLayout:
					pos_hint: {'top': 0.9}
					orientation: "lr-tb"
					my_root: root
					CalcButtonSpecial:
						text: "step"
					CalcButtonSpecial:
						text: "run"
					CalcButtonSpecial:
						text: "@"
